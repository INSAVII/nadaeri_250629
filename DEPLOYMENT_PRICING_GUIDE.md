# QClick ë°°í¬ í™˜ê²½ ê°€ê²© ê´€ë¦¬ ì‹œìŠ¤í…œ ê°€ì´ë“œ

## ê°œìš”

ë°°í¬ í™˜ê²½(í´ë¼ìš°ë“œ)ì—ì„œë„ ê´€ë¦¬ìê°€ ì„œë¹„ìŠ¤ ê°€ê²©ì„ ì•ˆì •ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ğŸš€ ë°°í¬ í™˜ê²½ì—ì„œì˜ ì¥ì 

### 1. **ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë°˜ ì €ì¥**
- ì„œë²„ ì¬ì‹œì‘ ì‹œì—ë„ ë°ì´í„° ìœ ì§€
- ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ ê°„ ë°ì´í„° ë™ê¸°í™”
- íŠ¸ëœì­ì…˜ ë³´ì¥

### 2. **í™˜ê²½ë³€ìˆ˜ ì§€ì›**
- ë°°í¬ ì‹œ ê¸°ë³¸ ê°€ê²© ì„¤ì • ê°€ëŠ¥
- í™˜ê²½ë³„ ë‹¤ë¥¸ ê°€ê²© ì •ì±… ì ìš©

### 3. **í•˜ì´ë¸Œë¦¬ë“œ ì €ì¥ ë°©ì‹**
- **ìš°ì„ ìˆœìœ„**: ë°ì´í„°ë² ì´ìŠ¤ > íŒŒì¼ > í™˜ê²½ë³€ìˆ˜
- ë°ì´í„°ë² ì´ìŠ¤ ì‹¤íŒ¨ ì‹œ íŒŒì¼ ì‹œìŠ¤í…œìœ¼ë¡œ ë°±ì—…
- ì™„ì „í•œ ì¥ì•  ëŒ€ì‘

## ğŸ“‹ ì§€ì›í•˜ëŠ” ì„œë¹„ìŠ¤

| ì„œë¹„ìŠ¤ | ê¸°ë³¸ ê°€ê²© | ì„¤ëª… |
|--------|-----------|------|
| **Që„¤ì„** | 50ì›/ê±´ë‹¹ | ìƒí’ˆëª… ìƒì„± ì„œë¹„ìŠ¤ |
| **Qí…ìŠ¤íŠ¸** | 30ì›/ê±´ë‹¹ | í…ìŠ¤íŠ¸ ì¶”ì¶œ ì„œë¹„ìŠ¤ |
| **Qìº¡ì³** | 100ì›/ê±´ë‹¹ | ìŠ¤í¬ë¦°ìƒ· ìº¡ì³ ì„œë¹„ìŠ¤ |

## ğŸ”§ ë°°í¬ í™˜ê²½ ì„¤ì •

### 1. í™˜ê²½ë³€ìˆ˜ ì„¤ì •

```bash
# ê¸°ë³¸ ê°€ê²© ì„¤ì •
DEFAULT_QNAME_PRICE=50
DEFAULT_QTEXT_PRICE=30
DEFAULT_QCAPTURE_PRICE=100

# API ì„œë²„ URL
API_BASE_URL=https://your-api-domain.com

# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
DATABASE_URL=postgresql://username:password@host/database
```

### 2. Docker ë°°í¬

```bash
# Docker ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t qclick-api .

# í™˜ê²½ë³€ìˆ˜ì™€ í•¨ê»˜ ì‹¤í–‰
docker run -d \
  -p 8001:8001 \
  -e DEFAULT_QNAME_PRICE=50 \
  -e DEFAULT_QTEXT_PRICE=30 \
  -e DEFAULT_QCAPTURE_PRICE=100 \
  -e DATABASE_URL=postgresql://... \
  qclick-api
```

## ğŸ› ï¸ ê´€ë¦¬ ë°©ë²•

### 1. ì›¹ ì¸í„°í˜ì´ìŠ¤ (ê°€ì¥ ì‰¬ìš´ ë°©ë²•)

**ì ‘ì† ë°©ë²•:**
```
https://your-api-domain.com/static/simple_pricing.html
```

**íŠ¹ì§•:**
- ì§ê´€ì ì¸ UI
- ì‹¤ì‹œê°„ ê°€ê²© ë³€ê²½
- ê´€ë¦¬ì ì¸ì¦ í•„ìš”

### 2. ë°°í¬ìš© ëª…ë ¹ì¤„ ìŠ¤í¬ë¦½íŠ¸

**ìŠ¤í¬ë¦½íŠ¸ ìœ„ì¹˜:**
```
services/main-api/scripts/deployment_pricing.py
```

**ì‚¬ìš©ë²•:**
```bash
# í˜„ì¬ ê°€ê²© í™•ì¸
python deployment_pricing.py show

# ëŒ€í™”í˜• ëª¨ë“œ (ê´€ë¦¬ì ì¸ì¦ í•„ìš”)
python deployment_pricing.py interactive

# ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
python deployment_pricing.py status
```

**ëŒ€í™”í˜• ëª¨ë“œ ì˜ˆì‹œ:**
```bash
$ python deployment_pricing.py interactive

ê´€ë¦¬ì ì´ë©”ì¼: admin@qclick.com
ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸: ****

=== ë©”ë‰´ ===
1. í˜„ì¬ ê°€ê²© í™•ì¸
2. Që„¤ì„ ê°€ê²© ë³€ê²½
3. Qí…ìŠ¤íŠ¸ ê°€ê²© ë³€ê²½
4. Qìº¡ì³ ê°€ê²© ë³€ê²½
5. ëª¨ë“  ê°€ê²© ì´ˆê¸°í™”
6. ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
0. ì¢…ë£Œ

ì„ íƒí•˜ì„¸ìš”: 2
ìƒˆ Që„¤ì„ ê°€ê²© (ì›): 75
âœ… qname ì„œë¹„ìŠ¤ ê°€ê²©ì´ 50ì›ì—ì„œ 75ì›ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤
```

### 3. API ì§ì ‘ í˜¸ì¶œ

**ì¸ì¦ì´ í•„ìš”í•œ ì—”ë“œí¬ì¸íŠ¸:**
```bash
# ê´€ë¦¬ì í† í° íšë“
curl -X POST https://your-api-domain.com/api/auth/login \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=admin@qclick.com&password=your-password"

# Që„¤ì„ ê°€ê²© ë³€ê²½ (í† í° í•„ìš”)
curl -X PUT https://your-api-domain.com/api/simple-pricing/qname \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"unit_price": 75}'
```

**ì¸ì¦ì´ í•„ìš” ì—†ëŠ” ì—”ë“œí¬ì¸íŠ¸:**
```bash
# í˜„ì¬ ê°€ê²© ì¡°íšŒ
curl https://your-api-domain.com/api/simple-pricing

# íŠ¹ì • ì„œë¹„ìŠ¤ ê°€ê²© ì¡°íšŒ
curl https://your-api-domain.com/api/simple-pricing/qname

# ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
curl https://your-api-domain.com/api/simple-pricing/status
```

## ğŸ” ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸

### API ì‘ë‹µ ì˜ˆì‹œ

```json
{
  "source": "database",
  "database_available": true,
  "file_available": false,
  "environment_variables": {
    "DEFAULT_QNAME_PRICE": 50,
    "DEFAULT_QTEXT_PRICE": 30,
    "DEFAULT_QCAPTURE_PRICE": 100
  },
  "last_updated": "2024-12-26T10:30:00Z",
  "updated_by": "admin@qclick.com"
}
```

### ë°ì´í„° ì†ŒìŠ¤ ì„¤ëª…

- **database**: ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê°€ê²© ì •ë³´ ë¡œë“œ
- **file**: ë¡œì»¬ íŒŒì¼ì—ì„œ ê°€ê²© ì •ë³´ ë¡œë“œ
- **env**: í™˜ê²½ë³€ìˆ˜ ê¸°ë³¸ê°’ ì‚¬ìš©

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1. ê´€ë¦¬ì ì¸ì¦
- ëª¨ë“  ê°€ê²© ë³€ê²½ ì‘ì—…ì€ ê´€ë¦¬ì í† í° í•„ìš”
- JWT í† í° ê¸°ë°˜ ì¸ì¦
- í† í° ë§Œë£Œ ì‹œê°„ ì„¤ì • ê°€ëŠ¥

### 2. ê¶Œí•œ ê´€ë¦¬
- ì¼ë°˜ ì‚¬ìš©ìëŠ” ê°€ê²© ì¡°íšŒë§Œ ê°€ëŠ¥
- ê´€ë¦¬ìë§Œ ê°€ê²© ë³€ê²½ ê°€ëŠ¥
- API ì—”ë“œí¬ì¸íŠ¸ë³„ ê¶Œí•œ ë¶„ë¦¬

### 3. ë°ì´í„° ê²€ì¦
- ê°€ê²© ë²”ìœ„ ê²€ì¦ (0 ì´ìƒ)
- ì„œë¹„ìŠ¤ íƒ€ì… ê²€ì¦
- ì…ë ¥ ë°ì´í„° sanitization

## ğŸš¨ ë¬¸ì œ í•´ê²°

### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨
```bash
# ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
curl https://your-api-domain.com/api/simple-pricing/status

# ë¡œê·¸ í™•ì¸
docker logs your-container-name
```

### ê¶Œí•œ ì˜¤ë¥˜
```bash
# ê´€ë¦¬ì ê³„ì • í™•ì¸
python deployment_pricing.py interactive
# ì˜¬ë°”ë¥¸ ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
```

### ê°€ê²© ë³€ê²½ì´ ë°˜ì˜ë˜ì§€ ì•ŠìŒ
```bash
# ìºì‹œ í™•ì¸
curl https://your-api-domain.com/api/simple-pricing

# ë°ì´í„°ë² ì´ìŠ¤ ì§ì ‘ í™•ì¸
# (ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ë„êµ¬ ì‚¬ìš©)
```

## ğŸ“Š ëª¨ë‹ˆí„°ë§

### ê°€ê²© ë³€ê²½ ì´ë ¥
- ë°ì´í„°ë² ì´ìŠ¤ì— ëª¨ë“  ë³€ê²½ ì´ë ¥ ì €ì¥
- ë³€ê²½ ì‹œê°„, ë³€ê²½ì, ë³€ê²½ ì „í›„ ê°€ê²© ê¸°ë¡
- ê°ì‚¬ ë¡œê·¸ ì œê³µ

### ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­
- API ì‘ë‹µ ì‹œê°„
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ìƒíƒœ
- íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼ ìƒíƒœ

## ğŸ”„ ë°±ì—… ë° ë³µêµ¬

### ìë™ ë°±ì—…
```bash
# ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…
pg_dump your-database > backup.sql

# ì„¤ì • íŒŒì¼ ë°±ì—…
cp config/pricing.json backup/
```

### ë³µêµ¬ ë°©ë²•
```bash
# ë°ì´í„°ë² ì´ìŠ¤ ë³µêµ¬
psql your-database < backup.sql

# ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”
python deployment_pricing.py interactive
# ë©”ë‰´ì—ì„œ "5. ëª¨ë“  ê°€ê²© ì´ˆê¸°í™”" ì„ íƒ
```

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

1. **ì‹œìŠ¤í…œ ìƒíƒœ**: `/api/simple-pricing/status`
2. **ë¡œê·¸ í™•ì¸**: ì„œë²„ ë¡œê·¸ íŒŒì¼
3. **ë„¤íŠ¸ì›Œí¬ ì—°ê²°**: API ì„œë²„ ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€
4. **ê¶Œí•œ í™•ì¸**: ê´€ë¦¬ì ê³„ì • ì •ë³´

---

**ê²°ë¡ **: ì´ ì‹œìŠ¤í…œì€ ë°°í¬ í™˜ê²½ì—ì„œë„ ì•ˆì •ì ìœ¼ë¡œ ì‘ë™í•˜ë©°, ê´€ë¦¬ìê°€ 3ê°€ì§€ ì„œë¹„ìŠ¤(Që„¤ì„, Qí…ìŠ¤íŠ¸, Qìº¡ì³)ì˜ ê°€ê²©ì„ ê°œë³„ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 