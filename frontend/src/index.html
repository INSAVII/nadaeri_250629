<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <!-- Ïô∏Î∂Ä Ïä§ÌÅ¨Î¶ΩÌä∏ Ï∞®Îã®ÏùÑ ÏúÑÌïú CSP -->
    <meta http-equiv="Content-Security-Policy"
        content="script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; object-src 'none';">
    <title>QClick - ÌÅêÌÅ¥Î¶≠ ÏÑúÎπÑÏä§ v2.1</title>
    <!-- Tailwind CSS CDN - Îπ†Î•∏ ÎîîÏûêÏù∏ Î≥µÍµ¨ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    maxWidth: {
                        '1080': '1080px'
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="./styles.css">

    <!-- Ïô∏Î∂Ä Ïä§ÌÅ¨Î¶ΩÌä∏ Ï∞®Îã® -->
    <script>
        // Ïô∏Î∂Ä Î∂ÑÏÑù Ïä§ÌÅ¨Î¶ΩÌä∏ Ï∞®Îã®
        const blockedScripts = [
            'rrweb',
            'osano',
            'analytics',
            'tracking',
            'recording'
        ];

        // Ïä§ÌÅ¨Î¶ΩÌä∏ Ï∞®Îã® Ìï®Ïàò
        function blockExternalScripts() {
            const scripts = document.querySelectorAll('script[src]');
            scripts.forEach(script => {
                const src = script.src.toLowerCase();
                if (blockedScripts.some(blocked => src.includes(blocked))) {
                    console.log('üö´ Ïô∏Î∂Ä Ïä§ÌÅ¨Î¶ΩÌä∏ Ï∞®Îã®:', src);
                    script.remove();
                }
            });
        }

        // DOM Î≥ÄÍ≤Ω Í∞êÏßÄÌïòÏó¨ ÎèôÏ†ÅÏúºÎ°ú ÏÇΩÏûÖÎêòÎäî Ïä§ÌÅ¨Î¶ΩÌä∏ Ï∞®Îã®
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                mutation.addedNodes.forEach((node) => {
                    if (node.nodeType === Node.ELEMENT_NODE) {
                        if (node.tagName === 'SCRIPT') {
                            const src = node.src?.toLowerCase();
                            if (src && blockedScripts.some(blocked => src.includes(blocked))) {
                                console.log('üö´ ÎèôÏ†Å Ïô∏Î∂Ä Ïä§ÌÅ¨Î¶ΩÌä∏ Ï∞®Îã®:', src);
                                node.remove();
                            }
                        }
                        // SVG ÏöîÏÜåÏùò ÏûòÎ™ªÎêú viewBox ÏàòÏ†ï
                        const svgs = node.querySelectorAll ? node.querySelectorAll('svg') : [];
                        svgs.forEach(svg => {
                            const viewBox = svg.getAttribute('viewBox');
                            if (viewBox && (viewBox.includes('%') || viewBox.includes('px'))) {
                                console.log('üîß SVG viewBox ÏàòÏ†ï:', viewBox);
                                // Í∏∞Î≥∏Í∞íÏúºÎ°ú ÏàòÏ†ï
                                svg.setAttribute('viewBox', '0 0 24 24');
                            }
                        });
                    }
                });
            });
        });

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïã§Ìñâ
        document.addEventListener('DOMContentLoaded', () => {
            blockExternalScripts();
            observer.observe(document.body, {
                childList: true,
                subtree: true
            });
        });
    </script>
</head>

<body>
    <div id="root"></div>
    <script type="module" src="./index.tsx"></script>
</body>

</html>