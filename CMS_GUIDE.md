# CMS 관리 시스템 가이드

## 개요

이 프로젝트에 통합된 CMS(Content Management System)는 회원관리와 예치금관리를 위한 완전한 관리 시스템입니다.

## 주요 기능

### 1. 대시보드 개요
- **총 회원 수**: 전체 등록된 회원 수
- **활성 회원**: 현재 활성 상태인 회원 수
- **총 예치금**: 모든 회원의 예치금 합계
- **이번 달 신규**: 이번 달에 가입한 신규 회원 수
- **최근 활동**: 최근 로그인한 회원들의 활동 현황

### 2. 회원관리
- **회원 검색**: 이름, 이메일, 사업자번호로 검색
- **필터링**: 권한별(일반/관리자), 상태별(활성/비활성) 필터
- **회원 정보 편집**: 이름, 이메일, 사업자번호, 권한 수정
- **상태 관리**: 회원 활성화/비활성화
- **일괄 선택**: 여러 회원을 선택하여 일괄 처리

### 3. 예치금관리
- **예치금 조회**: 각 회원의 현재 예치금 잔액 확인
- **일괄 예치금 처리**: 선택된 회원들의 예치금 일괄 충전/차감
- **개별 예치금 처리**: 개별 회원의 예치금 빠른 충전/차감
- **정렬 기능**: 예치금 높은순/낮은순, 이름순 정렬
- **CSV 다운로드**: 회원 정보를 CSV 파일로 내보내기

### 4. 분석 기능
- **예치금 분석**: 평균 예치금, 월 매출, 활성 회원 비율
- **예치금 분포**: 예치금 구간별 회원 분포 시각화
- **통계 정보**: 실시간 통계 업데이트

## 접근 방법

### 1. 관리자 로그인
```
이메일: admin@example.com
비밀번호: admin123
```

### 2. CMS 접근
1. 관리자로 로그인
2. 관리자 대시보드에서 "CMS 관리 시스템" 클릭
3. 또는 직접 `/admin/cms` 경로로 접근

## API 엔드포인트

### 통계 조회
```
GET /api/users/cms/stats
```

### 사용자 목록 조회
```
GET /api/users/cms/users?search={검색어}&role={권한}&status={상태}&sort_by={정렬기준}&sort_order={정렬순서}
```

### 일괄 예치금 처리
```
POST /api/users/cms/bulk-deposit
{
  "user_ids": ["user1", "user2"],
  "amount": 10000,
  "deposit_type": "add",
  "memo": "관리자 충전"
}
```

## 사용 시나리오

### 시나리오 1: 신규 회원 예치금 충전
1. CMS → 회원관리 탭
2. 신규 회원 검색
3. 해당 회원 선택
4. 예치금관리 탭으로 이동
5. 일괄 예치금 처리에서 충전 금액 입력
6. "일괄 처리" 버튼 클릭

### 시나리오 2: 회원 상태 관리
1. CMS → 회원관리 탭
2. 검색 또는 필터로 대상 회원 찾기
3. "관리" 열에서 "비활성화" 버튼 클릭
4. 상태 변경 확인

### 시나리오 3: 통계 분석
1. CMS → 분석 탭
2. 예치금 분포 확인
3. 활성 회원 비율 확인
4. 월별 신규 회원 현황 확인

## 보안 기능

- **관리자 권한 검증**: 모든 CMS 기능은 관리자 권한 필요
- **API 인증**: JWT 토큰 기반 인증
- **데이터 검증**: 입력 데이터 유효성 검사
- **로그 기록**: 모든 관리 작업 로그 기록

## 확장 가능한 기능

### 향후 추가 예정 기능
1. **거래 내역 관리**: 상세한 예치금 거래 내역
2. **알림 시스템**: 예치금 부족 시 자동 알림
3. **보고서 생성**: 월별/연도별 보고서 자동 생성
4. **대시보드 위젯**: 커스터마이징 가능한 대시보드
5. **API 웹훅**: 외부 시스템 연동

### 커스터마이징
- **테마 변경**: UI 테마 커스터마이징
- **권한 세분화**: 세부 권한 설정
- **다국어 지원**: 다국어 인터페이스
- **모바일 최적화**: 모바일 반응형 UI

## 기술 스택

### 프론트엔드
- **Next.js**: React 기반 프레임워크
- **TypeScript**: 타입 안전성
- **Tailwind CSS**: 스타일링
- **React Hooks**: 상태 관리

### 백엔드
- **FastAPI**: Python 웹 프레임워크
- **SQLAlchemy**: ORM
- **PostgreSQL**: 데이터베이스
- **JWT**: 인증

## 문제 해결

### 일반적인 문제들

1. **권한 오류**
   - 관리자 계정으로 로그인 확인
   - 토큰 만료 시 재로그인

2. **데이터 로드 실패**
   - 네트워크 연결 확인
   - 백엔드 서버 실행 상태 확인

3. **예치금 처리 실패**
   - 금액 입력값 확인
   - 선택된 사용자 확인

### 로그 확인
- 브라우저 개발자 도구 콘솔
- 백엔드 서버 로그
- 데이터베이스 로그

## 연락처 및 지원

기술 지원이 필요한 경우:
- 이메일: support@example.com
- 문서: 프로젝트 README 참조
- 이슈 트래커: GitHub Issues 활용 